<html>

<head>
    <title>Universe Tree</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="css/bootstrap.css" />
    <link rel="stylesheet" href="css/tree.css" />
    <link rel="stylesheet" href="css/self-define.css" />
</head>

<body>
    <div ng-app="universeApp">

        <!-- start of leftbar -->
        <div class="leftbar">
          <div ng-controller="wacaiStatusController">

          </div>
        </div>
        <!-- end of left bar -->

    </div>

    <!-- start of scripts -->
    <script src="js/basic/d3.js" charset="utf-8"></script>
    <script src="js/basic/angular.js" charset="utf-8"></script>
    <script src="js/module/tree.js" charset="utf-8"></script>
    <script src="js/module/deadline.js" charset="utf-8"></script>

    <script src="js/core.js" charset="utf-8"></script>
    <script src="js/service/data.js" charset="utf-8"></script>
    <script src="js/service/bus.js" charset="utf-8"></script>
    <script src="js/directive/treechart.js" charset="utf-8"></script>
    <script src="js/controller/skillTree.js" charset="utf-8"></script>
    <script src="js/controller/skillInfoPanel.js" charset="utf-8"></script>
    <script src="js/controller/deadlinePanel.js" charset="utf-8"></script>
    <script src="js/controller/deadlineBar.js" charset="utf-8"></script>
    <!-- load data -->
    <script charset="utf-8">
      var commonHeaders = {'Access-Control-Allow-Origin': "*", 'Content-Type': 'application/x-www-form-urlencoded'}
      var loginUrl = "https://user.wacai.com/login/all"
      var loginData = {"name": "ming.horizon@gmail.com", "pwd": "9d34FmNgAXq1c+IYsreAnA==", "autoLogin":1}
      var listOutputUrl = "https://www.wacai.com/biz/ledger_list.action"
      var transformRequest = function(data) {
        var str = [];
        for (var key in data) {
          str.push(encodeURIComponent(key) + "=" + encodeURIComponent(data[key]))
        }
        return str.join("&")
      }

      app.controller("wacaiStatusController", function($scope, $http) {
        $http({"url": loginUrl, "method": "POST", "data": loginData, "headers": commonHeaders, transformRequest: transformRequest})
        .then(
          function successCallback(response){
            console.log("success", response)
            $http({""})
        });
      });
    </script>
    <!-- end of scripts -->

</body>

</html>
